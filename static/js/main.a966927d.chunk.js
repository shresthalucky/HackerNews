(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{42:function(e,t,a){e.exports=a(94)},47:function(e,t,a){},76:function(e,t){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(39),o=a.n(i),r=(a(47),a(10)),c=a(1),l=a(15),m=a(5),d=a(6),u=a(7),h=a(8),p="https://hacker-news.firebaseio.com/v0",v=function(e){return"".concat(p,"/item/").concat(e,".json")},E=a(9);var f=function(e){return function(t){var a=t.isLoading,n=t.type,i=Object(E.a)(t,["isLoading","type"]);if(!a)return s.a.createElement(e,i);switch(n){case"story":return s.a.createElement("div",{className:"loading-bar"},s.a.createElement("div",{className:"loading-bar__heading"}),s.a.createElement("div",{className:"loading-bar__description"}));case"comment":return s.a.createElement("div",{className:"loading-bar"},s.a.createElement("div",{className:"loading-bar__description"}));default:return s.a.createElement("div",null,"Loading...")}}},g=a(12),b=a(4);var y=function(e){var t=e.data,a=(Object(E.a)(e,["data"]),Object(c.e)().storyId?s.a.createElement("h1",{className:"story__title"},s.a.createElement(r.b,{to:"/".concat(t.id)},t.title)):s.a.createElement("h2",{className:"story__title"},s.a.createElement(r.b,{to:"/".concat(t.id)},t.title)));return s.a.createElement("div",null,a,s.a.createElement("div",{className:"description story__description"},s.a.createElement("span",{className:"description__by"},s.a.createElement(b.d,null)," ",s.a.createElement("strong",null,t.by)),s.a.createElement("span",{className:"description__comments"},s.a.createElement(b.c,null)," ",t.kids?t.kids.length:"0"),s.a.createElement("span",{className:"description__time"},s.a.createElement(b.a,null)," ",new Date(1e3*t.time).toLocaleString()),s.a.createElement("span",{className:"description__permalink"},s.a.createElement("a",{href:t.url,target:"_new",title:t.title},s.a.createElement(b.b,null)))))},L=f(y),k=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getStory=function(){fetch(v(n.props.id)).then((function(e){return e.json()})).then((function(e){n.setState({data:Object(g.a)({},e),isLoading:!1})}))},n.state={data:{},isLoading:!0,activeComments:[],initialLoad:!1,showComments:!1,allCommentsLoaded:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getStory()}},{key:"render",value:function(){return s.a.createElement("div",{className:"story"},s.a.createElement(L,{type:"story",isLoading:this.state.isLoading,data:this.state.data}))}}]),a}(s.a.Component);var N=f((function(e){var t=e.list,a=Object(E.a)(e,["list"]);return s.a.createElement("div",null,s.a.createElement("div",{className:"stories-list"},t.map((function(e){return s.a.createElement(k,{id:e,key:e})}))),s.a.createElement("button",{className:"btn stories-list__btn",onClick:a.loadStories,disabled:a.allLoaded},a.allLoaded?"No More Stories":"More Stories"))})),_=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).getTopStories=function(){fetch("https://hacker-news.firebaseio.com/v0/topstories.json").then((function(e){return e.json()})).then((function(t){e.storiesList=Object(l.a)(t),e.loadStories(),e.setState({isLoading:!1})}))},e.loadStories=function(){var t=e.state.activeStories.length+10;e.setState({activeStories:Object(l.a)(e.storiesList.slice(0,t))}),e.storiesList.length===e.state.activeStories.length&&e.setState({allLoaded:!0})},e.state={activeStories:[],allLoaded:!1,isLoading:!0},e.storiesList=[],e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getTopStories()}},{key:"render",value:function(){return s.a.createElement(N,{type:"story",isLoading:this.state.isLoading,list:this.state.activeStories,loadStories:this.loadStories,allLoaded:this.state.allLoaded})}}]),a}(s.a.Component),j=a(41),S=a.n(j);var O=f((function(e){var t=e.data;return Object(E.a)(e,["data"]),s.a.createElement("div",{className:"comment"},s.a.createElement("div",{className:"description comment__description"},s.a.createElement("span",{className:"description__by"},s.a.createElement(b.d,null)," ",s.a.createElement("strong",null,t.by)),s.a.createElement("span",{className:"description__comments"},s.a.createElement(b.c,null)," ",t.kids?t.kids.length:"0"),s.a.createElement("span",{className:"description__time"},s.a.createElement(b.a,null)," ",new Date(1e3*t.time).toLocaleString())),S()(t.text))})),w=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getReplies=function(){fetch(v(n.props.id)).then((function(e){return e.json()})).then((function(e){n.setState({data:Object(g.a)({},e),isLoading:!1})}))},n.state={data:{},isLoading:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getReplies()}},{key:"render",value:function(){return s.a.createElement("div",{className:"comment-wrapper"},s.a.createElement(O,{type:"comment",isLoading:this.state.isLoading,data:this.state.data}),this.state.data.kids&&this.state.data.kids.map((function(e){return s.a.createElement(a,{id:e,key:e})})))}}]),a}(s.a.Component),C=f(y),M=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).getStory=function(){fetch(v(n.props.match.params.storyId)).then((function(e){return e.json()})).then((function(e){n.setState({data:Object(g.a)({},e),isLoading:!1},(function(){n.state.data.kids?n.loadComments():n.setState({allCommentsLoaded:!0})}))}))},n.loadComments=function(){var e=n.state.activeComments.length+1;n.setState({activeComments:Object(l.a)(n.state.data.kids.slice(0,e))},(function(){n.state.data.kids.length===n.state.activeComments.length&&n.setState({allCommentsLoaded:!0})}))},n.state={data:{},isLoading:!0,activeComments:[],allCommentsLoaded:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getStory()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(C,{isLoading:this.state.isLoading,data:this.state.data,type:"story"}),this.state.activeComments.map((function(e){return s.a.createElement(w,{id:e,key:e})})),s.a.createElement("button",{className:"btn",onClick:this.loadComments,disabled:this.state.allCommentsLoaded},this.state.allCommentsLoaded?"No More Comments":"More Comments"))}}]),a}(s.a.Component);var I=function(e){return function(t){return s.a.createElement("div",{className:"main-wrapper"},s.a.createElement("header",{className:"header"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",null,s.a.createElement(r.b,{to:"/"},"HackerNews")))),s.a.createElement("main",null,s.a.createElement("div",{className:"container"},s.a.createElement(e,t))),s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{className:"container"},s.a.createElement("span",{className:"footer__text"},"Built using ",s.a.createElement("a",{href:"https://github.com/HackerNews/API",target:"_new",title:"HackerNews API"},"HackerNews API")))))}},D=I(_),x=I(M);var H=function(){return s.a.createElement(r.a,{basename:"/HackerNews"},s.a.createElement(c.a,{exact:!0,path:"/",component:D}),s.a.createElement(c.a,{exact:!0,path:"/:storyId",component:x}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.a966927d.chunk.js.map